!function(){var e=document.querySelectorAll('[data-js="checkbox"]'),t=document.querySelector('[data-js="btn-next"]'),n=document.querySelectorAll("[data-js='recipe']"),c=n[0].getAttribute("idrecipe");if(n.length>1)var r=n[1].getAttribute("idrecipe");var o={complements:[],times:[],complements2:[],times2:[]};function i(e,t){return"replace"===t?Array.prototype.map.call(e,function(e){return e.textContent.replace("min","")}):"split"===t?e.map(function(e){return e.split(":")}):"pop"===t?e.map(function(e){return e.pop()}):"multiply"===t?e.map(function(e){return 60*e}):void 0}t.addEventListener("click",function(t){t.preventDefault(),e.forEach(function(e){if("style-checked"===e.className){var t=e.getAttribute("time"),n=e.getAttribute("recipe"),i=e.id;p=i,a=t,m=r,c==(l=n)?(o.complements.push(p),o.times.push(a)):m==l&&(o.complements2.push(p),o.times2.push(a))}var p,a,l,m});var n=o.times.concat(o.times2),p=i(document.querySelectorAll('[data-js="time-main"]'),"replace"),a=i(p=i(p=p.concat(n),"split"),"pop"),l=i(p,"pop").map(function(e){return 60*e}),m=a.concat(l);m=m.reduce(function(e,t){return Number(e)+Number(t)});var u=parseInt(m/60,10),s=parseInt(m%60,10);s=s<10?"0"+s:s,$.ajax({url:"index.php?controller=c_complements&method=handleOrder",type:"POST",data:"recipe1="+c+"&recipe2="+r+"&comp_1="+o.complements+"&comp_2="+o.complements2+"&secFinal="+s+"&minFinal="+u,dataType:"html"}).done(function(e){window.location="index.php?controller=c_final&method=show"}).fail(function(e,t){console.log("Request failed: "+t)})})}();