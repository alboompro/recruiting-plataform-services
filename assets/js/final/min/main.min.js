"use strict";var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Util=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"convertMS",value:function(t){var e,n,r;return r=Math.floor(t/1e3),n=Math.floor(r/60),r%=60,e=Math.floor(n/60),n%=60,{d:Math.floor(e/24),h:e%=24,m:n,s:r}}},{key:"addZ",value:function(t){return t?(t<10?"0":"")+t:"00"}},{key:"formatTime",value:function(e){return e.d>0?t.addZ(e.d)+"D "+t.addZ(e.h)+"H":e.h>0?t.addZ(e.h)+": "+t.addZ(e.m)+"M":t.addZ(e.m)+": "+t.addZ(e.s)+" min"}}]),t}(),Countdown=function(){function t(e,n){_classCallCheck(this,t),this.now=moment(),this.end=moment().add(e),this.diff=this.end.diff(this.now),this.$el=n,this.svg=Snap(this.$el.find("svg")[0]),this.progress=this.svg.select("#progress"),this.$txt=this.$el.find(".c-text"),this.initCircle(),this.initTimer()}return _createClass(t,[{key:"initCircle",value:function(){var t=this;t.progress.attr({strokeDasharray:"0, 301.44"}),Snap.animate(0,301.44,function(e){t.progress.attr({"stroke-dasharray":e+", 301.44"})},t.diff)}},{key:"initTimer",value:function(){var t=this;t.timer=setInterval(function(){t.now=moment(),t.diff=t.end.diff(t.now),t.diff>0?t.$txt.text(Util.formatTime(Util.convertMS(t.diff))):(t.$txt.text("Pedido pronto!"),clearInterval(t.timer))},200)}}]),t}();$(function(){var t=document.querySelector('[data-js="sec"]').value,e=document.querySelector('[data-js="min"]').value;new Countdown({minutes:e,seconds:t},$(".c-container"))});